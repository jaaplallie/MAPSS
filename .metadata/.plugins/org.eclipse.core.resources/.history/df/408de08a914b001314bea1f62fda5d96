package GraphicalGridBuilder;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;

public class GraphicalGridTarget{

	GraphicalGridObject[] targetPossibilities = new GraphicalGridObject[0];
	int currentlyDisplayedPossibility = -1;
	JButton returnButton = new JButton("");
	
	public GraphicalGridTarget(GraphicalGridObject[] possibilities){
		targetPossibilities = possibilities;
	}
	
	public JButton getButton(){
		returnButton = new JButton("");
		if(currentlyDisplayedPossibility < 0){
			currentlyDisplayedPossibility = 0;
			returnButton.setText(targetPossibilities[currentlyDisplayedPossibility].getTextualIcon());
		}
		returnButton.addActionListener(new ActionListener(){
			@Override
			public void actionPerformed(ActionEvent arg0) {
				System.out.println("displaying possibility " + currentlyDisplayedPossibility + " of " + targetPossibilities.length);
				if((currentlyDisplayedPossibility <= 0 && targetPossibilities.length > 0) || (currentlyDisplayedPossibility == targetPossibilities.length)){
					currentlyDisplayedPossibility = 0;
					returnButton.setText(targetPossibilities[currentlyDisplayedPossibility].getTextualIcon());
				}
				else{
					currentlyDisplayedPossibility++;
					returnButton.setText(targetPossibilities[currentlyDisplayedPossibility].getTextualIcon());
				}
			}	
		});
		return returnButton;
	}
	
	public String getPossibilitiesString(){
		String returnVal = "";
		
		for(int i = 0; i < targetPossibilities.length; i++){
			returnVal += targetPossibilities[i].getTextualIcon();
			if(targetPossibilities.length > 1 && i != targetPossibilities.length){
				returnVal += ",";
			}
		}
		
		return returnVal;
	}
}
